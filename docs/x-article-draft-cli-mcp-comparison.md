# X 記事ドラフト — note-research-cli × MCP比較

---

## 投稿本文

---

note.comのMCPサーバーをCLI化した。

使ってみてわかったのは、
「AIエージェントにとって何が本当にコスパがいいか」という話だった。

─────────────

**MCP版でできること**

Claude/Cursor/n8nからnote.comを操作できるサーバー。
検索・分析・投稿・画像・コメント・統計まで全部入り。

対話しながら「検索→分析→下書き→投稿」まで
一気通貫でやりたいならMCPが最適解。

─────────────

**CLI版でできること**

```
# 競合記事のテーマと人気度を分析
$ note-research competitor analyze --query "生成AI" --size 40

# 自分との差分でギャップを発見
$ note-research report gap \
  --mine-query "自分のテーマ" \
  --competitor-query "競合テーマ" \
  --format md

# JSON蓄積して繰り返し再分析
$ note-research report needs --query "LLM" --format json
```

競合調査 → ギャップ分析 → 下書き作成まで。
バッチ・CI・cronに乗せて定型化できる。

─────────────

**本質的な違いは「コンテキストの消費先」**

MCPは多機能な分、エージェントが
「どのtoolを使うか」を毎回考え続ける。

CLIはコマンド＋出力だけ。
tool選択に溶けていたコンテキストが
まるごと「分析結果の解釈」に使える。

同じ調査を繰り返せば繰り返すほど、差が開く。

─────────────

**設計の思想**

「ローカルにインストールすれば、
どのプロジェクトでもAIエージェントのtoolとして使える」

MCPはサーバーを立ててクライアント設定が必要。
CLIは `npm install -g` して `auth login` で終わり。

シェルが動く環境ならどこでもtoolになる。

─────────────

**使い分けの結論**

・定型の競合調査（日次・バッチ・cron）→ CLI
・対話で試行錯誤しながら投稿まで → MCP

両方の基盤は同じ `note-core` ライブラリなので
アップデートは両版に効く。

─────────────

MITで公開中。
競合調査を手動でやってる人、
AIワークフローに組み込みたい人に使ってほしい。

#生成AI #AIエージェント #note #CLI

---

## 別パターン（よりカジュアル寄り）

---

MCPでnote.comを操作するサーバーをCLIにした。

正直「CLIにする意味ある？」と思ってたけど、
使ってみたら全然別物だった。

**MCPとCLIで何が変わるか**

MCPは「エージェントが都度toolを選ぶ」構造。
機能が多いほど、tool選択の思考がコンテキストを食う。

CLIは「コマンド＋出力」だけ。
エージェントの頭が全部、分析結果の解釈に向く。

**できること**

競合記事の分析・テーマ抽出・ライク分布
自分vs競合のギャップレポート（JSON/MD）
そのまま下書き作成まで

定型ワークフローをcronで回しながら、
結果をJSONで蓄積して再分析できる。

**コンセプト**

ローカルにいれれば、どのプロジェクトでもAIのtoolになる。
MCPサーバーみたいに設定がいらない。

これが一番大きかった。

`npm install -g note-research-cli`

#生成AI #AIエージェント #note
